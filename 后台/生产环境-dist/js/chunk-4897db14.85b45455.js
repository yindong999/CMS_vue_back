(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4897db14"],{"642d":function(e,t,r){},"8ad1":function(e,t,r){"use strict";var a=r("642d"),o=r.n(a);o.a},ac2a:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main"},[r("a-form",{ref:"formLogin",staticClass:"user-layout-login",attrs:{form:e.form,id:"formLogin"}},[r("a-form-item",[r("h3",{staticStyle:{"border-bottom":"1px solid #f5f5f5","font-weight":"800"}},[e._v("后台管理系统")])]),r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",e.validatorRules.username,{validator:this.handleUsernameOrEmail}],expression:"['username',validatorRules.username,{ validator: this.handleUsernameOrEmail }]"}],attrs:{size:"large",type:"text",placeholder:"请输入员工编号"}},[r("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",e.validatorRules.password],expression:"['password',validatorRules.password]"}],attrs:{size:"large",type:"password",autocomplete:"false",placeholder:"请输入密码"}},[r("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),r("a-form-item",[r("a-checkbox",{directives:[{name:"decorator",rawName:"v-decorator",value:["rememberMe",{initialValue:!0,valuePropName:"checked"}],expression:"['rememberMe', {initialValue: true, valuePropName: 'checked'}]"}]},[e._v("记住密码")])],1),r("a-form-item",{staticStyle:{"margin-top":"24px"}},[r("a-button",{staticClass:"login-button",attrs:{size:"large",type:"primary",htmlType:"submit",loading:e.loginBtn,disabled:e.loginBtn},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[e._v("立即登陆\n          ")])],1)],1)],1)},o=[],s=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),i=r("2b0e"),n=r("2f62"),c=r("ca00"),l=r("9fb0");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m={data:function(){return{loginBtn:!1,form:this.$form.createForm(this),validatorRules:{username:{rules:[{required:!0,message:"请输入用户名!",validator:"click"}]},password:{rules:[{required:!0,message:"请输入密码!",validator:"click"}]}}}},created:function(){i["default"].ls.remove(l["a"]),i["default"].ls.remove(l["l"])},methods:d({},Object(n["b"])(["Login","Logout"]),{handleUsernameOrEmail:function(e,t,r){var a=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/;a.test(t)?this.loginType=0:this.loginType=1,r()},handleSubmit:function(){var e=this,t={};this.loginBtn=!0,this.form.validateFields(["username","password","rememberMe"],{force:!0},(function(r,a){r?e.loginBtn=!1:(t.account=a.username,t.password=a.password,t.loginType=2,e.Login(t).then((function(t){e.loginSuccess()})).catch((function(t){400!==t.code&&e.requestFailed(t)})))}))},loginSuccess:function(){var e=this,t=this.$store.getters.permissionList,r=[];r=Object(c["c"])(t),this.$store.dispatch("UpdateAppRouter",{constRoutes:r}).then((function(){e.$router.addRoutes(e.$store.getters.addRouters),e.$router.push({name:"dashboard"}),e.$notification.success({message:"欢迎",description:"".concat(Object(c["e"])(),",欢迎回来")})}))},requestFailed:function(e){this.$notification["error"]({message:"登录失败",description:((e.response||{}).data||{}).message||e.message||"请求出现错误，请稍后再试",duration:4}),this.loginBtn=!1}})},p=m,f=(r("8ad1"),r("2877")),b=Object(f["a"])(p,a,o,!1,null,"3b270373",null);t["default"]=b.exports}}]);
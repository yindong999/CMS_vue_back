(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8c395504"],{6366:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{staticStyle:{position:"relative",top:"50%!important"},attrs:{title:"",visible:e.visible,footer:null,mask:!1,width:320,closable:!1,bodyStyle:e.bodyStyle,zIndex:1200},on:{cancel:e.cancel}},[e.alertVisible?a("a-alert",{staticStyle:{width:"320px","padding-right":"26px"},attrs:{message:e.message,type:e.type,"show-icon":"",closable:!1}}):e._e(),a("a-icon",{staticStyle:{position:"absolute",right:"16px",top:"13px"},attrs:{type:"close"},on:{click:e.cancel}})],1)],1)},r=[],o={data:function(){return{bodyStyle:{padding:"0"},visible:!1,alertVisible:!1}},props:["message","type"],methods:{cancel:function(){this.visible=!1,this.alertVisible=!1}}},i=o,n=a("9ca4"),l=Object(n["a"])(i,s,r,!1,null,"7c768bce",null);t["default"]=l.exports},"7b95":function(e,t,a){},ac2a:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("a-form",{ref:"formLogin",staticClass:"user-layout-login",attrs:{form:e.form,id:"formLogin"}},[a("a-form-item",[a("h3",{staticStyle:{"text-align":"center","font-weight":"600",color:"rgba(60, 61, 67, 1)!important"}},[e._v("后台管理系统")])]),a("a-form-item",[a("a-input",{attrs:{allowClear:"",size:"large",type:"text",placeholder:"请输入员工编号"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),a("a-form-item",[a("a-input",{staticStyle:{"font-family":"auto"},attrs:{allowClear:"",size:"large",type:"password",autocomplete:"false",placeholder:"请输入密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("a-form-item",[a("label",[a("input",{staticStyle:{position:"relative",top:"2px",color:"rgba(118, 120, 133, 1)!important"},attrs:{type:"checkbox"},domProps:{checked:e.checkedPwd},on:{change:e.changeSelect}}),e._v("\n          记住密码\n          "),a("div",{staticClass:"show-box"})])]),a("a-form-item",{staticStyle:{"margin-top":"24px"}},[a("a-button",{staticClass:"login-button",class:[e.loginBtn?"use":"unuse"],attrs:{size:"large",type:"primary",htmlType:"submit",loading:e.loading,disabled:e.loginBtn},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[e._v("登录\n          ")])],1)],1),a("tooltip",{ref:"tooltip",attrs:{message:e.message,type:e.type}})],1)},r=[],o=(a("5ab2"),a("6d57"),a("e10e"),a("ce3c")),i=a("0261"),n=a("6366"),l=a("9f3a"),c=a("ca00"),u=a("9fb0");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={components:{tooltip:n["default"]},data:function(){return{message:"",type:"info",loading:!1,checkedPwd:!1,password:"",username:"",form:this.$form.createForm(this),validatorRules:{username:{rules:[{required:!0,message:"请输入用户名!",validator:"click"}]},password:{rules:[{required:!0,message:"请输入密码!",validator:"click"}]}}}},watch:{username:function(e,t){var a=localStorage.getItem("user");if(a){var s=JSON.parse(a);s.username=e,localStorage.setItem("user",JSON.stringify(s))}},password:function(e,t){var a=localStorage.getItem("user");if(a){var s=JSON.parse(a);s.password=e,localStorage.setItem("user",JSON.stringify(s))}}},computed:{loginBtn:function(){return!this.username||!this.password}},created:function(){i["default"].ls.remove(u["a"]),i["default"].ls.remove(u["l"]),i["default"].ls.remove(u["m"]),i["default"].ls.remove(u["k"]),i["default"].ls.remove(u["i"]),i["default"].ls.remove(u["f"]),i["default"].ls.remove(u["h"]),i["default"].ls.remove(u["e"]),i["default"].ls.remove(u["e"]),i["default"].ls.remove(u["c"]),i["default"].ls.remove(u["d"]),i["default"].ls.remove(u["g"]),i["default"].ls.remove(u["j"]);var e=localStorage.getItem("user");if(e){var t=JSON.parse(e);this.username=t.username,this.password=t.password,this.checkedPwd=t.checked}},methods:p(p({},Object(l["b"])(["Login","Logout"])),{},{handleUsernameOrEmail:function(e,t,a){var s=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/;s.test(t)?this.loginType=0:this.loginType=1,a()},changeSelect:function(e){var t={username:this.username,password:this.password};JSON.stringify(t),e.target.checked?t.checked=!0:t.checked=!1,e.target.checked?localStorage.setItem("user",JSON.stringify(t)):localStorage.removeItem("user"),this.checkedPwd=e.target.checked},handleSubmit:function(){var e=this;this.loading=!0;var t={};t.account=this.username,t.password=this.password,t.loginType=2,this.Login(t).then((function(t){e.loginSuccess()})).catch((function(t){e.requestFailed(t)}))},loginSuccess:function(){var e=this,t=this.$store.getters.permissionList,a=[];a=Object(c["d"])(t),this.$store.dispatch("UpdateAppRouter",{constRoutes:a}).then((function(){e.$router.addRoutes(e.$store.getters.addRouters),e.$router.push({name:"dashboard"}),e.loading=!1}))},requestFailed:function(e){var t=this;this.message=((e.response||{}).data||{}).message||e.message||"请求出现错误，请稍后再试",this.type="error",this.$refs.tooltip.visible=!0,this.$refs.tooltip.alertVisible=!0,setTimeout((function(){t.$refs.tooltip.cancel()}),3e3),this.loading=!1}})},f=m,g=(a("bc9c"),a("9ca4")),h=Object(g["a"])(f,s,r,!1,null,"4f84dde7",null);t["default"]=h.exports},bc9c:function(e,t,a){"use strict";var s=a("7b95"),r=a.n(s);r.a}}]);
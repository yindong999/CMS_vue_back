(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38b9cd38"],{"278d":function(e,t,s){"use strict";var a=s("728d"),r=s.n(a);r.a},6366:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("a-modal",{staticStyle:{position:"relative",top:"50%!important"},attrs:{title:"",visible:e.visible,footer:null,mask:!1,width:320,closable:!1,bodyStyle:e.bodyStyle,zIndex:1200},on:{cancel:e.cancel}},[e.alertVisible?s("a-alert",{staticStyle:{width:"320px"},attrs:{message:e.message,type:e.type,"show-icon":"",closable:!0},on:{close:e.cancel}}):e._e()],1)],1)},r=[],o={data:function(){return{bodyStyle:{padding:"0"},visible:!1,alertVisible:!1}},props:["message","type"],methods:{cancel:function(){this.visible=!1,this.alertVisible=!1}}},i=o,n=s("623f"),l=Object(n["a"])(i,a,r,!1,null,"c5035f1c",null);t["default"]=l.exports},"728d":function(e,t,s){},ac2a:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s("a-form",{ref:"formLogin",staticClass:"user-layout-login",attrs:{form:e.form,id:"formLogin"}},[s("a-form-item",[s("h3",{staticStyle:{"text-align":"center","font-weight":"600",color:"rgba(60, 61, 67, 1)!important"}},[e._v("后台管理系统")])]),s("a-form-item",[s("a-input",{attrs:{allowClear:"",size:"large",type:"text",placeholder:"请输入员工编号"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),s("a-form-item",[s("a-input",{staticStyle:{"font-family":"auto"},attrs:{allowClear:"",size:"large",type:"password",autocomplete:"false",placeholder:"请输入密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),s("a-form-item",[s("label",[s("input",{staticStyle:{position:"relative",top:"2px",color:"rgba(118, 120, 133, 1)!important"},attrs:{type:"checkbox"},domProps:{checked:e.checkedPwd},on:{change:e.changeSelect}}),e._v("\n          记住密码\n          "),s("div",{staticClass:"show-box"})])]),s("a-form-item",{staticStyle:{"margin-top":"24px"}},[s("a-button",{staticClass:"login-button",class:[e.loginBtn?"use":"unuse"],attrs:{size:"large",type:"primary",htmlType:"submit",loading:e.loading,disabled:e.loginBtn},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[e._v("登录\n          ")])],1)],1),s("tooltip",{ref:"tooltip",attrs:{message:e.message,type:e.type}})],1)},r=[],o=(s("5ab2"),s("6d57"),s("e10e"),s("ac9f")),i=s("0261"),n=s("6366"),l=s("8876"),c=s("ca00"),u=s("9fb0");function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function p(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var m={components:{tooltip:n["default"]},data:function(){return{message:"",type:"info",loading:!1,checkedPwd:!1,password:"",username:"",form:this.$form.createForm(this),validatorRules:{username:{rules:[{required:!0,message:"请输入用户名!",validator:"click"}]},password:{rules:[{required:!0,message:"请输入密码!",validator:"click"}]}}}},watch:{username:function(e,t){var s=localStorage.getItem("user");if(s){var a=JSON.parse(s);a.username=e,localStorage.setItem("user",JSON.stringify(a))}},password:function(e,t){var s=localStorage.getItem("user");if(s){var a=JSON.parse(s);a.password=e,localStorage.setItem("user",JSON.stringify(a))}}},computed:{loginBtn:function(){return!this.username||!this.password}},created:function(){i["default"].ls.remove(u["a"]),i["default"].ls.remove(u["l"]),i["default"].ls.remove(u["m"]),i["default"].ls.remove(u["k"]),i["default"].ls.remove(u["i"]),i["default"].ls.remove(u["f"]),i["default"].ls.remove(u["h"]),i["default"].ls.remove(u["e"]),i["default"].ls.remove(u["e"]),i["default"].ls.remove(u["d"]),i["default"].ls.remove(u["g"]),i["default"].ls.remove(u["j"]);var e=localStorage.getItem("user");if(e){var t=JSON.parse(e);this.username=t.username,this.password=t.password,this.checkedPwd=t.checked}},methods:p({},Object(l["b"])(["Login","Logout"]),{handleUsernameOrEmail:function(e,t,s){var a=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/;a.test(t)?this.loginType=0:this.loginType=1,s()},changeSelect:function(e){var t={username:this.username,password:this.password};JSON.stringify(t),e.target.checked?t.checked=!0:t.checked=!1,e.target.checked?localStorage.setItem("user",JSON.stringify(t)):localStorage.removeItem("user"),this.checkedPwd=e.target.checked},handleSubmit:function(){var e=this;this.loading=!0;var t={};t.account=this.username,t.password=this.password,t.loginType=2,this.Login(t).then((function(t){e.loginSuccess()})).catch((function(t){e.requestFailed(t)}))},loginSuccess:function(){var e=this,t=this.$store.getters.permissionList,s=[];s=Object(c["c"])(t),this.$store.dispatch("UpdateAppRouter",{constRoutes:s}).then((function(){e.$router.addRoutes(e.$store.getters.addRouters),e.$router.push({name:"dashboard"}),e.loading=!1}))},requestFailed:function(e){var t=this;this.message=((e.response||{}).data||{}).message||e.message||"请求出现错误，请稍后再试",this.type="error",this.$refs.tooltip.visible=!0,this.$refs.tooltip.alertVisible=!0,setTimeout((function(){t.$refs.tooltip.cancel()}),3e3),this.loading=!1}})},f=m,h=(s("278d"),s("623f")),g=Object(h["a"])(f,a,r,!1,null,"11c20a6d",null);t["default"]=g.exports}}]);